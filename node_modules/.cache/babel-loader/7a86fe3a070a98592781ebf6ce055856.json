{"ast":null,"code":"function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n} // Bundled with Packemon: https://packemon.dev\n// Platform: browser, Support: stable, Format: esm\n\n\nimport React from 'react';\n/* eslint-disable no-bitwise, no-magic-numbers, sort-keys */\n// https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories\n\nconst TYPE_FLOW = 1;\nconst TYPE_SECTION = 1 << 1;\nconst TYPE_HEADING = 1 << 2;\nconst TYPE_PHRASING = 1 << 3;\nconst TYPE_EMBEDDED = 1 << 4;\nconst TYPE_INTERACTIVE = 1 << 5;\nconst TYPE_PALPABLE = 1 << 6; // https://developer.mozilla.org/en-US/docs/Web/HTML/Element\n\nconst tagConfigs = {\n  a: {\n    content: TYPE_FLOW | TYPE_PHRASING,\n    self: false,\n    type: TYPE_FLOW | TYPE_PHRASING | TYPE_INTERACTIVE | TYPE_PALPABLE\n  },\n  address: {\n    invalid: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'address', 'article', 'aside', 'section', 'div', 'header', 'footer'],\n    self: false\n  },\n  audio: {\n    children: ['track', 'source']\n  },\n  br: {\n    type: TYPE_FLOW | TYPE_PHRASING,\n    void: true\n  },\n  body: {\n    content: TYPE_FLOW | TYPE_SECTION | TYPE_HEADING | TYPE_PHRASING | TYPE_EMBEDDED | TYPE_INTERACTIVE | TYPE_PALPABLE\n  },\n  button: {\n    content: TYPE_PHRASING,\n    type: TYPE_FLOW | TYPE_PHRASING | TYPE_INTERACTIVE | TYPE_PALPABLE\n  },\n  caption: {\n    content: TYPE_FLOW,\n    parent: ['table']\n  },\n  col: {\n    parent: ['colgroup'],\n    void: true\n  },\n  colgroup: {\n    children: ['col'],\n    parent: ['table']\n  },\n  details: {\n    children: ['summary'],\n    type: TYPE_FLOW | TYPE_INTERACTIVE | TYPE_PALPABLE\n  },\n  dd: {\n    content: TYPE_FLOW,\n    parent: ['dl']\n  },\n  dl: {\n    children: ['dt', 'dd'],\n    type: TYPE_FLOW\n  },\n  dt: {\n    content: TYPE_FLOW,\n    invalid: ['footer', 'header'],\n    parent: ['dl']\n  },\n  figcaption: {\n    content: TYPE_FLOW,\n    parent: ['figure']\n  },\n  footer: {\n    invalid: ['footer', 'header']\n  },\n  header: {\n    invalid: ['footer', 'header']\n  },\n  hr: {\n    type: TYPE_FLOW,\n    void: true\n  },\n  img: {\n    void: true\n  },\n  li: {\n    content: TYPE_FLOW,\n    parent: ['ul', 'ol', 'menu']\n  },\n  main: {\n    self: false\n  },\n  ol: {\n    children: ['li'],\n    type: TYPE_FLOW\n  },\n  picture: {\n    children: ['source', 'img'],\n    type: TYPE_FLOW | TYPE_PHRASING | TYPE_EMBEDDED\n  },\n  rb: {\n    parent: ['ruby', 'rtc']\n  },\n  rp: {\n    parent: ['ruby', 'rtc']\n  },\n  rt: {\n    content: TYPE_PHRASING,\n    parent: ['ruby', 'rtc']\n  },\n  rtc: {\n    content: TYPE_PHRASING,\n    parent: ['ruby']\n  },\n  ruby: {\n    children: ['rb', 'rp', 'rt', 'rtc']\n  },\n  source: {\n    parent: ['audio', 'video', 'picture'],\n    void: true\n  },\n  summary: {\n    content: TYPE_PHRASING,\n    parent: ['details']\n  },\n  table: {\n    children: ['caption', 'colgroup', 'thead', 'tbody', 'tfoot', 'tr'],\n    type: TYPE_FLOW\n  },\n  tbody: {\n    parent: ['table'],\n    children: ['tr']\n  },\n  td: {\n    content: TYPE_FLOW,\n    parent: ['tr']\n  },\n  tfoot: {\n    parent: ['table'],\n    children: ['tr']\n  },\n  th: {\n    content: TYPE_FLOW,\n    parent: ['tr']\n  },\n  thead: {\n    parent: ['table'],\n    children: ['tr']\n  },\n  tr: {\n    parent: ['table', 'tbody', 'thead', 'tfoot'],\n    children: ['th', 'td']\n  },\n  track: {\n    parent: ['audio', 'video'],\n    void: true\n  },\n  ul: {\n    children: ['li'],\n    type: TYPE_FLOW\n  },\n  video: {\n    children: ['track', 'source']\n  },\n  wbr: {\n    type: TYPE_FLOW | TYPE_PHRASING,\n    void: true\n  }\n};\n\nfunction createConfigBuilder(config) {\n  return tagName => {\n    tagConfigs[tagName] = { ...config,\n      ...tagConfigs[tagName]\n    };\n  };\n}\n\n['address', 'main', 'div', 'figure', 'p', 'pre'].forEach(createConfigBuilder({\n  content: TYPE_FLOW,\n  type: TYPE_FLOW | TYPE_PALPABLE\n}));\n['abbr', 'b', 'bdi', 'bdo', 'cite', 'code', 'data', 'dfn', 'em', 'i', 'kbd', 'mark', 'q', 'ruby', 'samp', 'strong', 'sub', 'sup', 'time', 'u', 'var'].forEach(createConfigBuilder({\n  content: TYPE_PHRASING,\n  type: TYPE_FLOW | TYPE_PHRASING | TYPE_PALPABLE\n}));\n['p', 'pre'].forEach(createConfigBuilder({\n  content: TYPE_PHRASING,\n  type: TYPE_FLOW | TYPE_PALPABLE\n}));\n['s', 'small', 'span', 'del', 'ins'].forEach(createConfigBuilder({\n  content: TYPE_PHRASING,\n  type: TYPE_FLOW | TYPE_PHRASING\n}));\n['article', 'aside', 'footer', 'header', 'nav', 'section', 'blockquote'].forEach(createConfigBuilder({\n  content: TYPE_FLOW,\n  type: TYPE_FLOW | TYPE_SECTION | TYPE_PALPABLE\n}));\n['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].forEach(createConfigBuilder({\n  content: TYPE_PHRASING,\n  type: TYPE_FLOW | TYPE_HEADING | TYPE_PALPABLE\n}));\n['audio', 'canvas', 'iframe', 'img', 'video'].forEach(createConfigBuilder({\n  type: TYPE_FLOW | TYPE_PHRASING | TYPE_EMBEDDED | TYPE_PALPABLE\n})); // Disable this map from being modified\n\nconst TAGS = Object.freeze(tagConfigs); // Tags that should never be allowed, even if the allow list is disabled\n\nconst BANNED_TAG_LIST = ['applet', 'base', 'body', 'command', 'embed', 'frame', 'frameset', 'head', 'html', 'link', 'meta', 'noscript', 'object', 'script', 'style', 'title'];\nconst ALLOWED_TAG_LIST = Object.keys(TAGS).filter(tag => tag !== 'canvas' && tag !== 'iframe'); // Filters apply to HTML attributes\n\nconst FILTER_ALLOW = 1;\nconst FILTER_DENY = 2;\nconst FILTER_CAST_NUMBER = 3;\nconst FILTER_CAST_BOOL = 4;\nconst FILTER_NO_CAST = 5; // Attributes not listed here will be denied\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\n\nconst ATTRIBUTES = Object.freeze({\n  alt: FILTER_ALLOW,\n  cite: FILTER_ALLOW,\n  class: FILTER_ALLOW,\n  colspan: FILTER_CAST_NUMBER,\n  controls: FILTER_CAST_BOOL,\n  datetime: FILTER_ALLOW,\n  default: FILTER_CAST_BOOL,\n  disabled: FILTER_CAST_BOOL,\n  dir: FILTER_ALLOW,\n  height: FILTER_ALLOW,\n  href: FILTER_ALLOW,\n  id: FILTER_ALLOW,\n  kind: FILTER_ALLOW,\n  label: FILTER_ALLOW,\n  lang: FILTER_ALLOW,\n  loading: FILTER_ALLOW,\n  loop: FILTER_CAST_BOOL,\n  media: FILTER_ALLOW,\n  muted: FILTER_CAST_BOOL,\n  poster: FILTER_ALLOW,\n  rel: FILTER_ALLOW,\n  role: FILTER_ALLOW,\n  rowspan: FILTER_CAST_NUMBER,\n  scope: FILTER_ALLOW,\n  sizes: FILTER_ALLOW,\n  span: FILTER_CAST_NUMBER,\n  start: FILTER_CAST_NUMBER,\n  style: FILTER_NO_CAST,\n  src: FILTER_ALLOW,\n  srclang: FILTER_ALLOW,\n  srcset: FILTER_ALLOW,\n  target: FILTER_ALLOW,\n  title: FILTER_ALLOW,\n  type: FILTER_ALLOW,\n  width: FILTER_ALLOW\n}); // Attributes to camel case for React props\n\nconst ATTRIBUTES_TO_PROPS = Object.freeze({\n  class: 'className',\n  colspan: 'colSpan',\n  datetime: 'dateTime',\n  rowspan: 'rowSpan',\n  srclang: 'srcLang',\n  srcset: 'srcSet'\n});\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction Element(_ref) {\n  let {\n    attributes = {},\n    className,\n    children = null,\n    selfClose = false,\n    tagName\n  } = _ref;\n  const Tag = tagName;\n  return selfClose ? /*#__PURE__*/React.createElement(Tag, _extends({\n    className: className\n  }, attributes)) : /*#__PURE__*/React.createElement(Tag, _extends({\n    className: className\n  }, attributes), children);\n}\n\nclass Filter {\n  /**\n   * Filter and clean an HTML attribute value.\n   */\n  attribute(name, value) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    return value;\n  }\n  /**\n   * Filter and clean an HTML node.\n   */\n\n\n  node(name, node) {\n    return node;\n  }\n\n}\n/**\n * Trigger the actual pattern match and package the matched\n * response through a callback.\n */\n\n\nfunction match(string, pattern, process) {\n  let isVoid = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  const matches = string.match(pattern instanceof RegExp ? pattern : new RegExp(pattern, 'i'));\n\n  if (!matches) {\n    return null;\n  }\n\n  return {\n    match: matches[0],\n    void: isVoid,\n    ...process(matches),\n    index: matches.index,\n    length: matches[0].length,\n    valid: true\n  };\n}\n\nclass Matcher {\n  constructor(name, options, factory) {\n    _defineProperty(this, \"greedy\", false);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"propName\", void 0);\n\n    _defineProperty(this, \"inverseName\", void 0);\n\n    _defineProperty(this, \"factory\", void 0);\n\n    if (process.env.NODE_ENV !== \"production\" && (!name || name.toLowerCase() === 'html')) {\n      throw new Error(`The matcher name \"${name}\" is not allowed.`);\n    } // @ts-expect-error Allow override\n\n\n    this.options = { ...options\n    };\n    this.propName = name;\n    this.inverseName = `no${name.charAt(0).toUpperCase() + name.slice(1)}`;\n    this.factory = factory !== null && factory !== void 0 ? factory : null;\n  }\n  /**\n   * Attempts to create a React element using a custom user provided factory,\n   * or the default matcher factory.\n   */\n\n\n  createElement(children, props) {\n    const element = this.factory ? /*#__PURE__*/React.createElement(this.factory, props, children) : this.replaceWith(children, props);\n\n    if (process.env.NODE_ENV !== \"production\" && typeof element !== 'string' && ! /*#__PURE__*/React.isValidElement(element)) {\n      throw new Error(`Invalid React element created from ${this.constructor.name}.`);\n    }\n\n    return element;\n  }\n  /**\n   * Trigger the actual pattern match and package the matched\n   * response through a callback.\n   */\n\n\n  doMatch(string, pattern, callback) {\n    let isVoid = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    return match(string, pattern, callback, isVoid);\n  }\n  /**\n   * Callback triggered before parsing.\n   */\n\n\n  onBeforeParse(content, props) {\n    return content;\n  }\n  /**\n   * Callback triggered after parsing.\n   */\n\n\n  onAfterParse(content, props) {\n    return content;\n  }\n  /**\n   * Replace the match with a React element based on the matched token and optional props.\n   */\n\n\n}\n\nexport { ALLOWED_TAG_LIST as A, BANNED_TAG_LIST as B, Element as E, Filter as F, Matcher as M, TAGS as T, _extends as _, ATTRIBUTES as a, FILTER_DENY as b, ATTRIBUTES_TO_PROPS as c, FILTER_CAST_BOOL as d, FILTER_CAST_NUMBER as e, FILTER_NO_CAST as f, TYPE_FLOW as g, TYPE_SECTION as h, TYPE_HEADING as i, TYPE_PHRASING as j, TYPE_EMBEDDED as k, TYPE_INTERACTIVE as l, TYPE_PALPABLE as m, FILTER_ALLOW as n, match as o };","map":{"version":3,"mappings":"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","names":["TYPE_FLOW","TYPE_SECTION","TYPE_HEADING","TYPE_PHRASING","TYPE_EMBEDDED","TYPE_INTERACTIVE","TYPE_PALPABLE","tagConfigs","a","content","self","type","address","invalid","audio","children","br","void","body","button","caption","parent","col","colgroup","details","dd","dl","dt","figcaption","footer","header","hr","img","li","main","ol","picture","rb","rp","rt","rtc","ruby","source","summary","table","tbody","td","tfoot","th","thead","tr","track","ul","video","wbr","createConfigBuilder","config","tagName","forEach","TAGS","Object","freeze","BANNED_TAG_LIST","ALLOWED_TAG_LIST","keys","filter","tag","FILTER_ALLOW","FILTER_DENY","FILTER_CAST_NUMBER","FILTER_CAST_BOOL","FILTER_NO_CAST","ATTRIBUTES","alt","cite","class","colspan","controls","datetime","default","disabled","dir","height","href","id","kind","label","lang","loading","loop","media","muted","poster","rel","role","rowspan","scope","sizes","span","start","style","src","srclang","srcset","target","title","width","ATTRIBUTES_TO_PROPS","Element","attributes","className","selfClose","Tag","React","Filter","attribute","name","value","node","matches","string","pattern","isVoid","RegExp","match","process","index","length","valid","greedy","options","propName","factory","constructor","_defineProperty","Error","env","NODE_ENV","createElement","doMatch","onBeforeParse","onAfterParse"],"sources":["/Users/elizavetakorkunova/hse-multimedia/node_modules/interweave/src/constants.ts","/Users/elizavetakorkunova/hse-multimedia/node_modules/interweave/src/Element.tsx","/Users/elizavetakorkunova/hse-multimedia/node_modules/interweave/src/Filter.ts","/Users/elizavetakorkunova/hse-multimedia/node_modules/interweave/src/match.ts","/Users/elizavetakorkunova/hse-multimedia/node_modules/interweave/src/Matcher.ts"],"sourcesContent":["/* eslint-disable no-bitwise, no-magic-numbers, sort-keys */\n\nimport { ConfigMap, FilterMap, NodeConfig } from './types';\n\n// https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories\nexport const TYPE_FLOW = 1;\nexport const TYPE_SECTION = 1 << 1;\nexport const TYPE_HEADING = 1 << 2;\nexport const TYPE_PHRASING = 1 << 3;\nexport const TYPE_EMBEDDED = 1 << 4;\nexport const TYPE_INTERACTIVE = 1 << 5;\nexport const TYPE_PALPABLE = 1 << 6;\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element\nconst tagConfigs: Record<string, Partial<NodeConfig>> = {\n\ta: {\n\t\tcontent: TYPE_FLOW | TYPE_PHRASING,\n\t\tself: false,\n\t\ttype: TYPE_FLOW | TYPE_PHRASING | TYPE_INTERACTIVE | TYPE_PALPABLE,\n\t},\n\taddress: {\n\t\tinvalid: [\n\t\t\t'h1',\n\t\t\t'h2',\n\t\t\t'h3',\n\t\t\t'h4',\n\t\t\t'h5',\n\t\t\t'h6',\n\t\t\t'address',\n\t\t\t'article',\n\t\t\t'aside',\n\t\t\t'section',\n\t\t\t'div',\n\t\t\t'header',\n\t\t\t'footer',\n\t\t],\n\t\tself: false,\n\t},\n\taudio: {\n\t\tchildren: ['track', 'source'],\n\t},\n\tbr: {\n\t\ttype: TYPE_FLOW | TYPE_PHRASING,\n\t\tvoid: true,\n\t},\n\tbody: {\n\t\tcontent:\n\t\t\tTYPE_FLOW |\n\t\t\tTYPE_SECTION |\n\t\t\tTYPE_HEADING |\n\t\t\tTYPE_PHRASING |\n\t\t\tTYPE_EMBEDDED |\n\t\t\tTYPE_INTERACTIVE |\n\t\t\tTYPE_PALPABLE,\n\t},\n\tbutton: {\n\t\tcontent: TYPE_PHRASING,\n\t\ttype: TYPE_FLOW | TYPE_PHRASING | TYPE_INTERACTIVE | TYPE_PALPABLE,\n\t},\n\tcaption: {\n\t\tcontent: TYPE_FLOW,\n\t\tparent: ['table'],\n\t},\n\tcol: {\n\t\tparent: ['colgroup'],\n\t\tvoid: true,\n\t},\n\tcolgroup: {\n\t\tchildren: ['col'],\n\t\tparent: ['table'],\n\t},\n\tdetails: {\n\t\tchildren: ['summary'],\n\t\ttype: TYPE_FLOW | TYPE_INTERACTIVE | TYPE_PALPABLE,\n\t},\n\tdd: {\n\t\tcontent: TYPE_FLOW,\n\t\tparent: ['dl'],\n\t},\n\tdl: {\n\t\tchildren: ['dt', 'dd'],\n\t\ttype: TYPE_FLOW,\n\t},\n\tdt: {\n\t\tcontent: TYPE_FLOW,\n\t\tinvalid: ['footer', 'header'],\n\t\tparent: ['dl'],\n\t},\n\tfigcaption: {\n\t\tcontent: TYPE_FLOW,\n\t\tparent: ['figure'],\n\t},\n\tfooter: {\n\t\tinvalid: ['footer', 'header'],\n\t},\n\theader: {\n\t\tinvalid: ['footer', 'header'],\n\t},\n\thr: {\n\t\ttype: TYPE_FLOW,\n\t\tvoid: true,\n\t},\n\timg: {\n\t\tvoid: true,\n\t},\n\tli: {\n\t\tcontent: TYPE_FLOW,\n\t\tparent: ['ul', 'ol', 'menu'],\n\t},\n\tmain: {\n\t\tself: false,\n\t},\n\tol: {\n\t\tchildren: ['li'],\n\t\ttype: TYPE_FLOW,\n\t},\n\tpicture: {\n\t\tchildren: ['source', 'img'],\n\t\ttype: TYPE_FLOW | TYPE_PHRASING | TYPE_EMBEDDED,\n\t},\n\trb: {\n\t\tparent: ['ruby', 'rtc'],\n\t},\n\trp: {\n\t\tparent: ['ruby', 'rtc'],\n\t},\n\trt: {\n\t\tcontent: TYPE_PHRASING,\n\t\tparent: ['ruby', 'rtc'],\n\t},\n\trtc: {\n\t\tcontent: TYPE_PHRASING,\n\t\tparent: ['ruby'],\n\t},\n\truby: {\n\t\tchildren: ['rb', 'rp', 'rt', 'rtc'],\n\t},\n\tsource: {\n\t\tparent: ['audio', 'video', 'picture'],\n\t\tvoid: true,\n\t},\n\tsummary: {\n\t\tcontent: TYPE_PHRASING,\n\t\tparent: ['details'],\n\t},\n\ttable: {\n\t\tchildren: ['caption', 'colgroup', 'thead', 'tbody', 'tfoot', 'tr'],\n\t\ttype: TYPE_FLOW,\n\t},\n\ttbody: {\n\t\tparent: ['table'],\n\t\tchildren: ['tr'],\n\t},\n\ttd: {\n\t\tcontent: TYPE_FLOW,\n\t\tparent: ['tr'],\n\t},\n\ttfoot: {\n\t\tparent: ['table'],\n\t\tchildren: ['tr'],\n\t},\n\tth: {\n\t\tcontent: TYPE_FLOW,\n\t\tparent: ['tr'],\n\t},\n\tthead: {\n\t\tparent: ['table'],\n\t\tchildren: ['tr'],\n\t},\n\ttr: {\n\t\tparent: ['table', 'tbody', 'thead', 'tfoot'],\n\t\tchildren: ['th', 'td'],\n\t},\n\ttrack: {\n\t\tparent: ['audio', 'video'],\n\t\tvoid: true,\n\t},\n\tul: {\n\t\tchildren: ['li'],\n\t\ttype: TYPE_FLOW,\n\t},\n\tvideo: {\n\t\tchildren: ['track', 'source'],\n\t},\n\twbr: {\n\t\ttype: TYPE_FLOW | TYPE_PHRASING,\n\t\tvoid: true,\n\t},\n};\n\nfunction createConfigBuilder(config: Partial<NodeConfig>): (tagName: string) => void {\n\treturn (tagName: string) => {\n\t\ttagConfigs[tagName] = {\n\t\t\t...config,\n\t\t\t...tagConfigs[tagName],\n\t\t};\n\t};\n}\n\n['address', 'main', 'div', 'figure', 'p', 'pre'].forEach(\n\tcreateConfigBuilder({\n\t\tcontent: TYPE_FLOW,\n\t\ttype: TYPE_FLOW | TYPE_PALPABLE,\n\t}),\n);\n\n[\n\t'abbr',\n\t'b',\n\t'bdi',\n\t'bdo',\n\t'cite',\n\t'code',\n\t'data',\n\t'dfn',\n\t'em',\n\t'i',\n\t'kbd',\n\t'mark',\n\t'q',\n\t'ruby',\n\t'samp',\n\t'strong',\n\t'sub',\n\t'sup',\n\t'time',\n\t'u',\n\t'var',\n].forEach(\n\tcreateConfigBuilder({\n\t\tcontent: TYPE_PHRASING,\n\t\ttype: TYPE_FLOW | TYPE_PHRASING | TYPE_PALPABLE,\n\t}),\n);\n\n['p', 'pre'].forEach(\n\tcreateConfigBuilder({\n\t\tcontent: TYPE_PHRASING,\n\t\ttype: TYPE_FLOW | TYPE_PALPABLE,\n\t}),\n);\n\n['s', 'small', 'span', 'del', 'ins'].forEach(\n\tcreateConfigBuilder({\n\t\tcontent: TYPE_PHRASING,\n\t\ttype: TYPE_FLOW | TYPE_PHRASING,\n\t}),\n);\n\n['article', 'aside', 'footer', 'header', 'nav', 'section', 'blockquote'].forEach(\n\tcreateConfigBuilder({\n\t\tcontent: TYPE_FLOW,\n\t\ttype: TYPE_FLOW | TYPE_SECTION | TYPE_PALPABLE,\n\t}),\n);\n\n['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].forEach(\n\tcreateConfigBuilder({\n\t\tcontent: TYPE_PHRASING,\n\t\ttype: TYPE_FLOW | TYPE_HEADING | TYPE_PALPABLE,\n\t}),\n);\n\n['audio', 'canvas', 'iframe', 'img', 'video'].forEach(\n\tcreateConfigBuilder({\n\t\ttype: TYPE_FLOW | TYPE_PHRASING | TYPE_EMBEDDED | TYPE_PALPABLE,\n\t}),\n);\n\n// Disable this map from being modified\nexport const TAGS: ConfigMap = Object.freeze(tagConfigs);\n\n// Tags that should never be allowed, even if the allow list is disabled\nexport const BANNED_TAG_LIST = [\n\t'applet',\n\t'base',\n\t'body',\n\t'command',\n\t'embed',\n\t'frame',\n\t'frameset',\n\t'head',\n\t'html',\n\t'link',\n\t'meta',\n\t'noscript',\n\t'object',\n\t'script',\n\t'style',\n\t'title',\n];\n\nexport const ALLOWED_TAG_LIST = Object.keys(TAGS).filter(\n\t(tag) => tag !== 'canvas' && tag !== 'iframe',\n);\n\n// Filters apply to HTML attributes\nexport const FILTER_ALLOW = 1;\nexport const FILTER_DENY = 2;\nexport const FILTER_CAST_NUMBER = 3;\nexport const FILTER_CAST_BOOL = 4;\nexport const FILTER_NO_CAST = 5;\n\n// Attributes not listed here will be denied\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\nexport const ATTRIBUTES: FilterMap = Object.freeze({\n\talt: FILTER_ALLOW,\n\tcite: FILTER_ALLOW,\n\tclass: FILTER_ALLOW,\n\tcolspan: FILTER_CAST_NUMBER,\n\tcontrols: FILTER_CAST_BOOL,\n\tdatetime: FILTER_ALLOW,\n\tdefault: FILTER_CAST_BOOL,\n\tdisabled: FILTER_CAST_BOOL,\n\tdir: FILTER_ALLOW,\n\theight: FILTER_ALLOW,\n\thref: FILTER_ALLOW,\n\tid: FILTER_ALLOW,\n\tkind: FILTER_ALLOW,\n\tlabel: FILTER_ALLOW,\n\tlang: FILTER_ALLOW,\n\tloading: FILTER_ALLOW,\n\tloop: FILTER_CAST_BOOL,\n\tmedia: FILTER_ALLOW,\n\tmuted: FILTER_CAST_BOOL,\n\tposter: FILTER_ALLOW,\n\trel: FILTER_ALLOW,\n\trole: FILTER_ALLOW,\n\trowspan: FILTER_CAST_NUMBER,\n\tscope: FILTER_ALLOW,\n\tsizes: FILTER_ALLOW,\n\tspan: FILTER_CAST_NUMBER,\n\tstart: FILTER_CAST_NUMBER,\n\tstyle: FILTER_NO_CAST,\n\tsrc: FILTER_ALLOW,\n\tsrclang: FILTER_ALLOW,\n\tsrcset: FILTER_ALLOW,\n\ttarget: FILTER_ALLOW,\n\ttitle: FILTER_ALLOW,\n\ttype: FILTER_ALLOW,\n\twidth: FILTER_ALLOW,\n});\n\n// Attributes to camel case for React props\nexport const ATTRIBUTES_TO_PROPS: Record<string, string> = Object.freeze({\n\tclass: 'className',\n\tcolspan: 'colSpan',\n\tdatetime: 'dateTime',\n\trowspan: 'rowSpan',\n\tsrclang: 'srcLang',\n\tsrcset: 'srcSet',\n});\n","import React from 'react';\nimport { ElementProps } from './types';\n\nexport function Element({\n\tattributes = {},\n\tclassName,\n\tchildren = null,\n\tselfClose = false,\n\ttagName,\n}: ElementProps) {\n\tconst Tag = tagName as 'span';\n\n\treturn selfClose ? (\n\t\t<Tag className={className} {...attributes} />\n\t) : (\n\t\t<Tag className={className} {...attributes}>\n\t\t\t{children}\n\t\t</Tag>\n\t);\n}\n","import { ElementAttributes, FilterInterface } from './types';\n\nexport class Filter implements FilterInterface {\n\t/**\n\t * Filter and clean an HTML attribute value.\n\t */\n\tattribute<K extends keyof ElementAttributes>(\n\t\tname: K,\n\t\tvalue: ElementAttributes[K],\n\t): ElementAttributes[K] | null | undefined {\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-return\n\t\treturn value;\n\t}\n\n\t/**\n\t * Filter and clean an HTML node.\n\t */\n\tnode(name: string, node: HTMLElement): HTMLElement | null {\n\t\treturn node;\n\t}\n}\n","import { MatchCallback, MatchResponse } from './types';\n\n/**\n * Trigger the actual pattern match and package the matched\n * response through a callback.\n */\nexport function match<T>(\n\tstring: string,\n\tpattern: RegExp | string,\n\tprocess: MatchCallback<T>,\n\tisVoid: boolean = false,\n): MatchResponse<T> | null {\n\tconst matches = string.match(pattern instanceof RegExp ? pattern : new RegExp(pattern, 'i'));\n\n\tif (!matches) {\n\t\treturn null;\n\t}\n\n\treturn {\n\t\tmatch: matches[0],\n\t\tvoid: isVoid,\n\t\t...process(matches),\n\t\tindex: matches.index!,\n\t\tlength: matches[0].length,\n\t\tvalid: true,\n\t};\n}\n","import React from 'react';\nimport { match } from './match';\nimport { ChildrenNode, MatchCallback, MatcherInterface, MatchResponse, Node } from './types';\n\nexport abstract class Matcher<Props extends object = {}, Options extends object = {}>\n\timplements MatcherInterface<Props> {\n\tgreedy: boolean = false;\n\n\toptions: Options;\n\n\tpropName: string;\n\n\tinverseName: string;\n\n\tfactory: React.ComponentType<Props> | null;\n\n\tconstructor(name: string, options?: Options, factory?: React.ComponentType<Props> | null) {\n\t\tif (__DEV__ && (!name || name.toLowerCase() === 'html')) {\n\t\t\tthrow new Error(`The matcher name \"${name}\" is not allowed.`);\n\t\t}\n\n\t\t// @ts-expect-error Allow override\n\t\tthis.options = { ...options };\n\t\tthis.propName = name;\n\t\tthis.inverseName = `no${name.charAt(0).toUpperCase() + name.slice(1)}`;\n\t\tthis.factory = factory ?? null;\n\t}\n\n\t/**\n\t * Attempts to create a React element using a custom user provided factory,\n\t * or the default matcher factory.\n\t */\n\tcreateElement(children: ChildrenNode, props: Props): Node {\n\t\tconst element = this.factory\n\t\t\t? React.createElement(this.factory, props, children)\n\t\t\t: this.replaceWith(children, props);\n\n\t\tif (__DEV__ && typeof element !== 'string' && !React.isValidElement(element)) {\n\t\t\tthrow new Error(`Invalid React element created from ${this.constructor.name}.`);\n\t\t}\n\n\t\treturn element;\n\t}\n\n\t/**\n\t * Trigger the actual pattern match and package the matched\n\t * response through a callback.\n\t */\n\tdoMatch<T>(\n\t\tstring: string,\n\t\tpattern: RegExp | string,\n\t\tcallback: MatchCallback<T>,\n\t\tisVoid: boolean = false,\n\t): MatchResponse<T> | null {\n\t\treturn match(string, pattern, callback, isVoid);\n\t}\n\n\t/**\n\t * Callback triggered before parsing.\n\t */\n\tonBeforeParse(content: string, props: Props): string {\n\t\treturn content;\n\t}\n\n\t/**\n\t * Callback triggered after parsing.\n\t */\n\tonAfterParse(content: Node[], props: Props): Node[] {\n\t\treturn content;\n\t}\n\n\t/**\n\t * Replace the match with a React element based on the matched token and optional props.\n\t */\n\tabstract replaceWith(children: ChildrenNode, props: Props): Node;\n\n\t/**\n\t * Defines the HTML tag name that the resulting React element will be.\n\t */\n\tabstract asTag(): string;\n\n\t/**\n\t * Attempt to match against the defined string. Return `null` if no match found,\n\t * else return the `match` and any optional props to pass along.\n\t */\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-redundant-type-constituents\n\tabstract match(string: string): MatchResponse<any> | null;\n}\n"]},"metadata":{},"sourceType":"module"}